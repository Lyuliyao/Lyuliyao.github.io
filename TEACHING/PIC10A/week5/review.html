<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Section 10</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="../reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="../reveal.js/dist/theme/white.css" id="theme">
  <link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
        <h2>Section 10: Review of functions and references</h2>
        </section>
        <section> 
            <h2> Review of functions </h2> 
            <div style="text-align: left;" >
                A function is a block of code that performs a specific task.
                It can take inputs (parameters), process them, and return an output (return value).
                <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
void greet(string name) {
    cout &lt;&lt; "Hello, " &lt;&lt; name &lt;&lt; "!" &lt;&lt; endl;
}
int add (int a, int b);
int add (int, int);

int main() {
    greet("Alice");
    int sum = add(5, 10);
    cout &lt;&lt; "Sum: " &lt;&lt; sum &lt;&lt; endl;
    return 0;
}

int add (int a, int b)
{
    int sum = a + b;
    return sum;
}
</code></pre>

            </div>
               

        </section>
        <section>
            <h2> Common Error </h2>
            <div>
                <ul>
                    <li class="fragment fade-in-then-semi-out"> <b>Build Error:</b> It is a build error to call a function before its devlaration. </li>
                    <li class="fragment fade-in-then-semi-out"> <b>Build Error:</b> It is a build error to call a function without define it. </li>
                    <li class="fragment fade-in-then-semi-out"> <b>Legal!!!</b> It is legal to declare a function multiple times. </li>
                    <li class="fragment fade-in-then-semi-out"> <b>Build Error:</b> It is a build error to define a non-inline function multiple times. </li>
                </ul>
            </div>
            </section>
            <section>
            <h2> Common Error </h2>
            <div>
                <ul>
                    <li class="fragment fade-in-then-semi-out"> <b>Undefined Behavior:</b> Suppose <code>f</code> is a function with a non-void return type and that <code> v </code> is a variable of that return type.
                     If the function body of <code> f </code> does not return a value, then the statement <code> v = f(); </code> causes undefined behavior. </li>
                </ul>
            </div>
        </section>
        <section>
            <h2> Variable Scope </h2>
            <div>
                Scope is the context in which a variable is defined.
                <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int main() {
    int a = -10;
    int b = -9;
    int c = 4;

    if (a &lt; c) {
        double a = b / c;
        c *= a;
        cout &lt;&lt; "Inner a: " &lt;&lt; a &lt; endl; 
        cout &lt;&lt; "Inner c: " &lt;&lt; c &lt; endl;
    }
    cout &lt;&lt; "Outer a: " &lt;&lt; a &lt; endl; 
    cout &lt;&lt; "Outer c: " &lt;&lt; c &lt; endl;
    return 0;
}
            </code></pre>
            </div>
        </section>
        <section>
            <h2> Comparison of the scope of functions </h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;

void foo(int a, int b, int c) {
    double a = b / c; //build error: redefinition of 'a'// delete the declaration to fix
    c *= a;
    cout &lt;&lt; "Inner a: " &lt;&lt; a &lt;&lt; endl; 
    cout &lt;&lt; "Inner c: " &lt;&lt; c &lt;&lt; endl;
}

int main() {
    int a = -10;
    int b = -9;
    int c = 4;

    if (a &lt; c) {
        foo(a, b, c);
    }
    cout &lt;&lt; "Outer a: " &lt;&lt; a &lt;&lt; endl; 
    cout &lt;&lt; "Outer c: " &lt;&lt; c &lt;&lt; endl;
    return 0;
}
            </code></pre>
        </section>
        <section>
            <h2> Swap values</h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
void bad_swap(int a, int b) {
    int temp = a;
    a = b;
    b = temp;
    cout &lt;&lt; "Inside swap - a: " &lt;&lt; a &lt;&lt; ", b: " &lt;&lt; b &lt;&lt; endl;
}
int main() {
    int x = 5;
    int y = 10;
    cout &lt;&lt; "Before swap - x: " &lt;&lt; x &lt;&lt; ", y: " &lt;&lt; y &lt;&lt; endl;
    bad_swap(x, y);
    cout &lt;&lt; "After swap - x: " &lt;&lt; x &lt;&lt; ", y: " &lt;&lt; y &lt;&lt; endl;
    return 0;
}
            </code></pre>
        </section>
        <section>
          <h2> Introduction to References</h2>
          <p>References provide an alias for another variable, allowing you to modify the original variable without using pointers.</p>
          <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;

int main() {
    int x = 5;
    int& ref = x; // ref is a reference to x
    return 0;
}
            </code></pre>
        </section>
        <section>
          <h2> Definition</h2>
          <div>
            <ul>
              <li  class="fragment fade-in-then-semi-out"> A <code> reference </code> does not store its own data.</li>
              <li class="fragment fade-in-then-semi-out"> Instead, it refers to an already <b>existing</b> variable</li>
              <li class="fragment fade-in-then-semi-out"> A useful picture for the code above is drawn in blackboard</li>
            </ul>
          </div>
        </section>
        <section>
          <div>
           <ul>
            <li class="fragment fade-in-then-semi-out"> A reference can only ever refer to one storage location.</li>
           <li class="fragment fade-in-then-semi-out"> Once a reference is initialized to a variable, it cannot be changed to refer to a second location.</li>
           <li class="fragment fade-in-then-semi-out"> Said another way, if you draw the reference as an arrow pointing to the variable it refers to, you cannot change the arrow to point to a different variable.</li>
          </ul>
          </div>
          </section>
          <section>
            <div>
              <ul>
                <li class="fragment fade-in-then-semi-out"> The reference never changes sounds similar to a constant.</li>
                <li class="fragment fade-in-then-semi-out"> <b> Build Error </b> Defining a reference without initializing it. </li>
                <li class="fragment fade-in-then-semi-out"> The reference refers to a variable rather than the value it holds.</li>
                <li class="fragment fade-in-then-semi-out"> However, the value being referred to can change.</li>
              </ul>
            </div>
          </section>
          </section>
          <section>
            <h2> Swap values</h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
void good_swap(int& a, int& b) {
    int temp = a;
    a = b;
    b = temp;
    cout &lt;&lt; "Inside good_swap - a: " &lt;&lt; a &lt;&lt; ", b: " &lt;&lt; b &lt;&lt; endl;
}
int main() {
    int x = 5;
    int y = 10;
    cout &lt;&lt; "Before good_swap - x: " &lt;&lt; x &lt;&lt; ", y: " &lt;&lt; y &lt;&lt; endl;
    good_swap(x, y);
    cout &lt;&lt; "After good_swap - x: " &lt;&lt; x &lt;&lt; ", y: " &lt;&lt; y &lt;&lt; endl;
    return 0;
}
            </code></pre>
          </section>
          <section>
            <h2> Reference to Constant </h2>
            <div style="text-align: left;">
              <ul>
                <li>
             <b>Build Error:</b> Assigning to a <b>reference to const</b> fundamental type after its initialization gives a build error.<br>
                (cannot modify the value through the reference)
            </li>
              </ul>
            </div>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int main() {
    int x = 5;
    const int& ref = x; // ref is a reference to a constant int
    ref = 10; // Build Error: cannot modify a constant reference
    x = 10; // This is allowed
    cout &lt;&lt; "x: " &lt;&lt; x &lt;&lt; endl;
    return 0;
}
            </code></pre>
          </section>
          <section>
            <h2> Build Error</h2>
            <div style="text-align: left;">
              <ul>
                <li>
             <b>Build Error:</b> Assigning to a <b>reference to const</b> fundamental type after its initialization gives a build error.
            <br>
                (cannot modify the value through the reference)
            </li>
                <li>
             <b>Build Error:</b> A reference which is not a reference to const is not allowed to reference a
const variable. Attempting to do this will result in a build error.<br>
(cannot bind non-const reference to a const variable)
                </li>
              </ul>
          </section>
          <section>
            <h2> Examples </h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int main() {

    int i  = 0 ;
    const int ci = 1 ;

    c1 = 2 ; // Build Error: cannot modify a const variable
    int& r1 = i ; // OK: r1 is a reference to non-const int
    int &r2 = ci ; // Build Error: cannot bind non-const reference to const variable

    const int& rc1 = ci; // OK: rc1 is a reference to const
    const int& rc2 = i; // OK: rc2 is a reference to const

    rc1 = 3 ; // Build Error: cannot modify a const reference
    rc2 = 4 ; // Build Error: cannot modify a const reference

    cout &lt;&lt;  i &lt;&lt; r1 &lt;&lt; rc2 &lt;&lt; endl;

    i=5;
    cout &lt;&lt;  i &lt;&lt; r1 &lt;&lt; rc2 &lt;&lt; endl;

    r1 = 6 ;
    cout &lt;&lt;  i &lt;&lt; r1 &lt;&lt; rc2 &lt;&lt; endl;

    return 0;

}
            </code></pre>
          </section>
          <section>
            <h2> Examples </h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int f(int& a, int b, int& c) {
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;

    a  +=  1 + c;
    b  *=  2;

    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return a;
}
int main() {
    int a   =20; 
    int b   =30;
    int c   =40;
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    f(a, b, c);
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return 0;
}
        </code></pre>
          </section>
          <section>
            <h2> Examples </h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int f(int& a, int b, int& c) {
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;

    a  +=  1 + c;
    b  *=  2;

    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return a;
}
int main() {
    int a   =20; 
    int b   =30;
    int c   =40;
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    f(c, b, a);
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return 0;
}
        </code></pre>
          </section>
          <section>
           <h2> Examples </h2>
            <pre><code data-trim data-line-numbers class="language-cpp">
#include &lt;iostream&gt;
using namespace std;
int f(int& a, int b, int& c) {
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;

    a  +=  1 + c;
    b  *=  2;

    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return a;
}
int main() {
    int a   =20; 
    int b   =30;
    int c   =40;
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    f(b, b, b);
    cout &lt;&lt; a &lt;&lt; ' ' &lt;&lt; b &lt;&lt; ' ' &lt;&lt; c &lt;&lt; endl;
    return 0;
}
        </code></pre>
          </section>
  <script src="../reveal.js/dist/reveal.js"></script>
  <script src="../reveal.js/plugin/highlight/highlight.js"></script>
  <script>
    Reveal.initialize({
      center: true,
      hash: true,
      plugins: [ RevealHighlight ]
    });
  </script>
</body>
</html>