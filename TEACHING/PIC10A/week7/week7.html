<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Section 12</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="../reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="../reveal.js/dist/theme/white.css" id="theme">
  <link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">
</head>

<body>
  <div class="reveal">
    <div class="slides">
      <section>
      <h2> How to choose parameter types</h2>
      </section>
      <section>
        <h2> Different parameter types</h2>
        <ul>
          <li>
            <strong>Passing by value</strong>
            <ul>
              <li>Makes a copy of the argument</li>
              <li>Changes inside the function do <em>not</em> affect the caller</li>
              <li>Simple and safe, good for small types (e.g., <code>int</code>, <code>double</code>)</li>
            </ul>
          </li>
        </ul>
      </section>
      <section>
          <li>
            <strong>Passing by reference</strong>
            <ul>
              <li>No copy is made (more efficient for large objects)</li>
              <li>Function can modify the caller’s variable</li>
              <li>Use when you <em>want</em> to change the argument</li>
            </ul>
          </li>
        </ul>
      </section>
      <section>
          <li>
            <strong>Passing by reference to const</strong>
            <ul>
              <li>No copy is made (efficient for large objects)</li>
              <li>Function cannot modify the argument</li>
              <li>Use when you only need to read from a large object</li>
            </ul>
          </li>
        </ul>
      </section>
      <section>
      <h2>Choosing Parameter Types in C++</h2>
      <p>Given a type <code>T</code> (without <code>const</code> or <code>&</code>):</p>
      <ul>
        <li class="fragment"><strong>Pass by value</strong>: <code>T</code> (makes a copy)</li>
        <li class="fragment"><strong>Pass by reference</strong>: <code>T&amp;</code> (can modify original)</li>
        <li class="fragment"><strong>Pass by reference to const</strong>: <code>const T&amp;</code> (no copy, cannot modify)</li>
      </ul>
    </section>

    <section>
      <h2>How to Choose</h2>
      <ol>
        <li class="fragment">
          <strong>Do we want to mutate the argument?</strong>
          <ul>
            <li>If <strong>yes</strong> → use <code>T&amp;</code></li>
            <li>If <strong>no</strong> → choose between <code>T</code> and <code>const T&amp;</code></li>
          </ul>
        </li>
        <li class="fragment">
          <strong>Do we want to avoid copying?</strong>
          <ul>
            <li>If <strong>yes</strong> → use <code>T&amp;</code> or <code>const T&amp;</code></li>
            <li>If <strong>no</strong>:
              <ul>
                <li>If copying doesn’t matter → <code>T</code> is simplest</li>
                <li>If we really want a copy → use <code>T</code> (or copy inside)</li>
              </ul>
            </li>
          </ul>
        </li>
      </ol>
    </section>
    <section>
        <h2>Example 12.1.3 — Const Correctness</h2>
        <pre><code class="language-cpp" data-trim data-line-numbers>
        #include &lt;iostream&gt;
        #include &lt;vector&gt;
        using namespace std;

        int sum(const vector&lt;int&gt;& v) {
            int sum = 0;
            for (size_t i = 0, N = v.size(); i &lt; N; ++i)
                sum += v[i];
            return sum;
        }

        void print_sum(const vector&lt;int&gt;& v) {
            cout &lt;&lt; sum(v) &lt;&lt; endl;
        }

        int main() {
            vector&lt;int&gt; w{1, 2, 3};
            print_sum(w);
        }
          </code></pre>
    </section>
    <section>
      <h2>What Does “Const Correct” Mean?</h2>
      <ul>
        <li class="fragment"><code>const vector&lt;int&gt;&amp;</code> means “read-only reference”</li>
        <li class="fragment">Prevents accidental modification of inputs</li>
        <li class="fragment">Makes the function usable with <code>const</code> objects</li>
        <li class="fragment">Compiler enforces the rule — safer code!</li>
      </ul>
    </section>
    </div>
  </div>  

  <script src="../reveal.js/dist/reveal.js"></script>
  <script src="../reveal.js/plugin/highlight/highlight.js"></script>
  <script>
    Reveal.initialize({
      center: true,
      hash: true,
      plugins: [ RevealHighlight ]
    });
  </script>
</body>
</html>